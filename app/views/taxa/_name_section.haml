-#Locals: taxon, parent, form, default_name_string

- default_name_string ||= nil

%tr.name_row
  = form.fields_for :name do |name_form|
    - if name_form.object.new_record?
      = hidden_field_tag 'taxon[name_attributes][id]'
    %td.label.top_aligned= name_form.label :name
    %td
      #name_field
        = render 'name_fields/panel', name_string: taxon.name.try(:name),
                                      default_name_string: default_name_string && "#{default_name_string} "
      .name_description
        = name_description taxon
